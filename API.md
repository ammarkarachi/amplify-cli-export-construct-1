# API Reference <a name="API Reference"></a>

## Constructs <a name="Constructs"></a>

### AmplifyExportBackend <a name="@aws-amplify/cli-export-backend.AmplifyExportBackend"></a>

- *Implements:* [`@aws-amplify/cli-export-backend.IAmplifyExportBackend`](#@aws-amplify/cli-export-backend.IAmplifyExportBackend)

* Used to include the backend generated by running `amplify export --out <path>` into the cdk app.

> <amplify-export-docs-path>

#### Initializers <a name="@aws-amplify/cli-export-backend.AmplifyExportBackend.Initializer"></a>

```typescript
import { AmplifyExportBackend } from '@aws-amplify/cli-export-backend'

new AmplifyExportBackend(scope: Construct, id: string, props: AmplifyExportedBackendProps)
```

##### `scope`<sup>Required</sup> <a name="@aws-amplify/cli-export-backend.AmplifyExportBackend.parameter.scope"></a>

- *Type:* [`@aws-cdk/core.Construct`](#@aws-cdk/core.Construct)

The parent construct of this template.

---

##### `id`<sup>Required</sup> <a name="@aws-amplify/cli-export-backend.AmplifyExportBackend.parameter.id"></a>

- *Type:* `string`

The ID of this construct.

---

##### `props`<sup>Required</sup> <a name="@aws-amplify/cli-export-backend.AmplifyExportBackend.parameter.props"></a>

- *Type:* [`@aws-amplify/cli-export-backend.AmplifyExportedBackendProps`](#@aws-amplify/cli-export-backend.AmplifyExportedBackendProps)

Initialization properties.

---

#### Methods <a name="Methods"></a>

##### `apiRestNestedStack` <a name="@aws-amplify/cli-export-backend.AmplifyExportBackend.apiRestNestedStack"></a>

```typescript
public apiRestNestedStack(resourceName: string)
```

###### `resourceName`<sup>Required</sup> <a name="@aws-amplify/cli-export-backend.AmplifyExportBackend.parameter.resourceName"></a>

- *Type:* `string`

---

##### `authNestedStack` <a name="@aws-amplify/cli-export-backend.AmplifyExportBackend.authNestedStack"></a>

```typescript
public authNestedStack()
```

##### `graphqlNestedStacks` <a name="@aws-amplify/cli-export-backend.AmplifyExportBackend.graphqlNestedStacks"></a>

```typescript
public graphqlNestedStacks()
```

##### `lambdaFunctionNestedStackByName` <a name="@aws-amplify/cli-export-backend.AmplifyExportBackend.lambdaFunctionNestedStackByName"></a>

```typescript
public lambdaFunctionNestedStackByName(functionName: string)
```

###### `functionName`<sup>Required</sup> <a name="@aws-amplify/cli-export-backend.AmplifyExportBackend.parameter.functionName"></a>

- *Type:* `string`

---

##### `lambdaFunctionNestedStacks` <a name="@aws-amplify/cli-export-backend.AmplifyExportBackend.lambdaFunctionNestedStacks"></a>

```typescript
public lambdaFunctionNestedStacks()
```

##### `nestedStacksByCategory` <a name="@aws-amplify/cli-export-backend.AmplifyExportBackend.nestedStacksByCategory"></a>

```typescript
public nestedStacksByCategory(category: string, resourceName?: string)
```

###### `category`<sup>Required</sup> <a name="@aws-amplify/cli-export-backend.AmplifyExportBackend.parameter.category"></a>

- *Type:* `string`

---

###### `resourceName`<sup>Optional</sup> <a name="@aws-amplify/cli-export-backend.AmplifyExportBackend.parameter.resourceName"></a>

- *Type:* `string`

---


#### Properties <a name="Properties"></a>

##### `cfnInclude`<sup>Required</sup> <a name="@aws-amplify/cli-export-backend.AmplifyExportBackend.property.cfnInclude"></a>

```typescript
public readonly cfnInclude: CfnInclude;
```

- *Type:* [`@aws-cdk/cloudformation-include.CfnInclude`](#@aws-cdk/cloudformation-include.CfnInclude)

cfnInclude of the Amplify backend.

---

##### `rootStack`<sup>Required</sup> <a name="@aws-amplify/cli-export-backend.AmplifyExportBackend.property.rootStack"></a>

```typescript
public readonly rootStack: Stack;
```

- *Type:* [`@aws-cdk/core.Stack`](#@aws-cdk/core.Stack)

The root stack created.

---


## Structs <a name="Structs"></a>

### AmplifyExportedBackendProps <a name="@aws-amplify/cli-export-backend.AmplifyExportedBackendProps"></a>

#### Initializer <a name="[object Object].Initializer"></a>

```typescript
import { AmplifyExportedBackendProps } from '@aws-amplify/cli-export-backend'

const amplifyExportedBackendProps: AmplifyExportedBackendProps = { ... }
```

##### `analyticsReporting`<sup>Optional</sup> <a name="@aws-amplify/cli-export-backend.AmplifyExportedBackendProps.property.analyticsReporting"></a>

```typescript
public readonly analyticsReporting: boolean;
```

- *Type:* `boolean`
- *Default:* `analyticsReporting` setting of containing `App`, or value of
'aws:cdk:version-reporting' context key

Include runtime versioning information in this Stack.

---

##### `description`<sup>Optional</sup> <a name="@aws-amplify/cli-export-backend.AmplifyExportedBackendProps.property.description"></a>

```typescript
public readonly description: string;
```

- *Type:* `string`
- *Default:* No description.

A description of the stack.

---

##### `env`<sup>Optional</sup> <a name="@aws-amplify/cli-export-backend.AmplifyExportedBackendProps.property.env"></a>

```typescript
public readonly env: Environment;
```

- *Type:* [`@aws-cdk/core.Environment`](#@aws-cdk/core.Environment)
- *Default:* The environment of the containing `Stage` if available,
otherwise create the stack will be environment-agnostic.

The AWS environment (account/region) where this stack will be deployed.

Set the `region`/`account` fields of `env` to either a concrete value to
select the indicated environment (recommended for production stacks), or to
the values of environment variables
`CDK_DEFAULT_REGION`/`CDK_DEFAULT_ACCOUNT` to let the target environment
depend on the AWS credentials/configuration that the CDK CLI is executed
under (recommended for development stacks).

If the `Stack` is instantiated inside a `Stage`, any undefined
`region`/`account` fields from `env` will default to the same field on the
encompassing `Stage`, if configured there.

If either `region` or `account` are not set nor inherited from `Stage`, the
Stack will be considered "*environment-agnostic*"". Environment-agnostic
stacks can be deployed to any environment but may not be able to take
advantage of all features of the CDK. For example, they will not be able to
use environmental context lookups such as `ec2.Vpc.fromLookup` and will not
automatically translate Service Principals to the right format based on the
environment's AWS partition, and other such enhancements.

---

##### `stackName`<sup>Optional</sup> <a name="@aws-amplify/cli-export-backend.AmplifyExportedBackendProps.property.stackName"></a>

```typescript
public readonly stackName: string;
```

- *Type:* `string`
- *Default:* Derived from construct path.

Name to deploy the stack with.

---

##### `synthesizer`<sup>Optional</sup> <a name="@aws-amplify/cli-export-backend.AmplifyExportedBackendProps.property.synthesizer"></a>

```typescript
public readonly synthesizer: IStackSynthesizer;
```

- *Type:* [`@aws-cdk/core.IStackSynthesizer`](#@aws-cdk/core.IStackSynthesizer)
- *Default:* `DefaultStackSynthesizer` if the `@aws-cdk/core:newStyleStackSynthesis` feature flag
is set, `LegacyStackSynthesizer` otherwise.

Synthesis method to use while deploying this stack.

---

##### `tags`<sup>Optional</sup> <a name="@aws-amplify/cli-export-backend.AmplifyExportedBackendProps.property.tags"></a>

```typescript
public readonly tags: {[ key: string ]: string};
```

- *Type:* {[ key: string ]: `string`}
- *Default:* {}

Stack tags that will be applied to all the taggable resources and the stack itself.

---

##### `terminationProtection`<sup>Optional</sup> <a name="@aws-amplify/cli-export-backend.AmplifyExportedBackendProps.property.terminationProtection"></a>

```typescript
public readonly terminationProtection: boolean;
```

- *Type:* `boolean`
- *Default:* false

Whether to enable termination protection for this stack.

---

##### `path`<sup>Required</sup> <a name="@aws-amplify/cli-export-backend.AmplifyExportedBackendProps.property.path"></a>

```typescript
public readonly path: string;
```

- *Type:* `string`

The path to the synthesized folder that contains the artifacts for the Amplify CLI backend ex: ./amplify-synth-out/.

---

##### `stage`<sup>Optional</sup> <a name="@aws-amplify/cli-export-backend.AmplifyExportedBackendProps.property.stage"></a>

```typescript
public readonly stage: string;
```

- *Type:* `string`
- *Default:* is 'dev'

The stage that you are going to publish the The amplify backend requires a stage to deploy.

---

### CategoryStackMapping <a name="@aws-amplify/cli-export-backend.CategoryStackMapping"></a>

#### Initializer <a name="[object Object].Initializer"></a>

```typescript
import { CategoryStackMapping } from '@aws-amplify/cli-export-backend'

const categoryStackMapping: CategoryStackMapping = { ... }
```

##### `category`<sup>Required</sup> <a name="@aws-amplify/cli-export-backend.CategoryStackMapping.property.category"></a>

```typescript
public readonly category: string;
```

- *Type:* `string`

---

##### `resourceName`<sup>Required</sup> <a name="@aws-amplify/cli-export-backend.CategoryStackMapping.property.resourceName"></a>

```typescript
public readonly resourceName: string;
```

- *Type:* `string`

---

##### `service`<sup>Required</sup> <a name="@aws-amplify/cli-export-backend.CategoryStackMapping.property.service"></a>

```typescript
public readonly service: string;
```

- *Type:* `string`

---

### ExportManifest <a name="@aws-amplify/cli-export-backend.ExportManifest"></a>

#### Initializer <a name="[object Object].Initializer"></a>

```typescript
import { ExportManifest } from '@aws-amplify/cli-export-backend'

const exportManifest: ExportManifest = { ... }
```

##### `props`<sup>Required</sup> <a name="@aws-amplify/cli-export-backend.ExportManifest.property.props"></a>

```typescript
public readonly props: CfnIncludeProps;
```

- *Type:* [`@aws-cdk/cloudformation-include.CfnIncludeProps`](#@aws-cdk/cloudformation-include.CfnIncludeProps)

---

##### `stackName`<sup>Required</sup> <a name="@aws-amplify/cli-export-backend.ExportManifest.property.stackName"></a>

```typescript
public readonly stackName: string;
```

- *Type:* `string`

---

### ExportTag <a name="@aws-amplify/cli-export-backend.ExportTag"></a>

#### Initializer <a name="[object Object].Initializer"></a>

```typescript
import { ExportTag } from '@aws-amplify/cli-export-backend'

const exportTag: ExportTag = { ... }
```

##### `key`<sup>Required</sup> <a name="@aws-amplify/cli-export-backend.ExportTag.property.key"></a>

```typescript
public readonly key: string;
```

- *Type:* `string`

---

##### `value`<sup>Required</sup> <a name="@aws-amplify/cli-export-backend.ExportTag.property.value"></a>

```typescript
public readonly value: string;
```

- *Type:* `string`

---

### ProviderCredential <a name="@aws-amplify/cli-export-backend.ProviderCredential"></a>

#### Initializer <a name="[object Object].Initializer"></a>

```typescript
import { ProviderCredential } from '@aws-amplify/cli-export-backend'

const providerCredential: ProviderCredential = { ... }
```

##### `clientId`<sup>Required</sup> <a name="@aws-amplify/cli-export-backend.ProviderCredential.property.clientId"></a>

```typescript
public readonly clientId: string;
```

- *Type:* `string`

---

##### `clientSecret`<sup>Required</sup> <a name="@aws-amplify/cli-export-backend.ProviderCredential.property.clientSecret"></a>

```typescript
public readonly clientSecret: string;
```

- *Type:* `string`

---

##### `providerName`<sup>Required</sup> <a name="@aws-amplify/cli-export-backend.ProviderCredential.property.providerName"></a>

```typescript
public readonly providerName: string;
```

- *Type:* `string`

---


## Protocols <a name="Protocols"></a>

### IAmplifyExportBackend <a name="@aws-amplify/cli-export-backend.IAmplifyExportBackend"></a>

- *Implemented By:* [`@aws-amplify/cli-export-backend.AmplifyExportBackend`](#@aws-amplify/cli-export-backend.AmplifyExportBackend), [`@aws-amplify/cli-export-backend.IAmplifyExportBackend`](#@aws-amplify/cli-export-backend.IAmplifyExportBackend)

Represents the Amplify Exported Backend Stack.

#### Methods <a name="Methods"></a>

##### `apiRestNestedStack` <a name="@aws-amplify/cli-export-backend.IAmplifyExportBackend.apiRestNestedStack"></a>

```typescript
public apiRestNestedStack(resourceName: string)
```

###### `resourceName`<sup>Required</sup> <a name="@aws-amplify/cli-export-backend.IAmplifyExportBackend.parameter.resourceName"></a>

- *Type:* `string`

---

##### `authNestedStack` <a name="@aws-amplify/cli-export-backend.IAmplifyExportBackend.authNestedStack"></a>

```typescript
public authNestedStack()
```

##### `graphqlNestedStacks` <a name="@aws-amplify/cli-export-backend.IAmplifyExportBackend.graphqlNestedStacks"></a>

```typescript
public graphqlNestedStacks()
```

##### `lambdaFunctionNestedStackByName` <a name="@aws-amplify/cli-export-backend.IAmplifyExportBackend.lambdaFunctionNestedStackByName"></a>

```typescript
public lambdaFunctionNestedStackByName(functionName: string)
```

###### `functionName`<sup>Required</sup> <a name="@aws-amplify/cli-export-backend.IAmplifyExportBackend.parameter.functionName"></a>

- *Type:* `string`

the function name to get from the nested stack.

---

##### `lambdaFunctionNestedStacks` <a name="@aws-amplify/cli-export-backend.IAmplifyExportBackend.lambdaFunctionNestedStacks"></a>

```typescript
public lambdaFunctionNestedStacks()
```

##### `nestedStacksByCategory` <a name="@aws-amplify/cli-export-backend.IAmplifyExportBackend.nestedStacksByCategory"></a>

```typescript
public nestedStacksByCategory(category: string, resourceName?: string)
```

###### `category`<sup>Required</sup> <a name="@aws-amplify/cli-export-backend.IAmplifyExportBackend.parameter.category"></a>

- *Type:* `string`

Categories defined in Amplify CLI like function, api, auth etc.

---

###### `resourceName`<sup>Optional</sup> <a name="@aws-amplify/cli-export-backend.IAmplifyExportBackend.parameter.resourceName"></a>

- *Type:* `string`

---


### IAPIGraphQLIncludeNestedStack <a name="@aws-amplify/cli-export-backend.IAPIGraphQLIncludeNestedStack"></a>

- *Implemented By:* [`@aws-amplify/cli-export-backend.IAPIGraphQLIncludeNestedStack`](#@aws-amplify/cli-export-backend.IAPIGraphQLIncludeNestedStack)

#### Methods <a name="Methods"></a>

##### `appSyncAPIKey` <a name="@aws-amplify/cli-export-backend.IAPIGraphQLIncludeNestedStack.appSyncAPIKey"></a>

```typescript
public appSyncAPIKey()
```

##### `graphQLAPI` <a name="@aws-amplify/cli-export-backend.IAPIGraphQLIncludeNestedStack.graphQLAPI"></a>

```typescript
public graphQLAPI()
```

##### `graphQLSchema` <a name="@aws-amplify/cli-export-backend.IAPIGraphQLIncludeNestedStack.graphQLSchema"></a>

```typescript
public graphQLSchema()
```

##### `modelNestedStack` <a name="@aws-amplify/cli-export-backend.IAPIGraphQLIncludeNestedStack.modelNestedStack"></a>

```typescript
public modelNestedStack(tableName: string)
```

###### `tableName`<sup>Required</sup> <a name="@aws-amplify/cli-export-backend.IAPIGraphQLIncludeNestedStack.parameter.tableName"></a>

- *Type:* `string`

is the model name in your Graph QL API.

---


### IAPIRestIncludedStack <a name="@aws-amplify/cli-export-backend.IAPIRestIncludedStack"></a>

- *Implemented By:* [`@aws-amplify/cli-export-backend.IAPIRestIncludedStack`](#@aws-amplify/cli-export-backend.IAPIRestIncludedStack)

#### Methods <a name="Methods"></a>

##### `apiDeployment` <a name="@aws-amplify/cli-export-backend.IAPIRestIncludedStack.apiDeployment"></a>

```typescript
public apiDeployment()
```

##### `restAPI` <a name="@aws-amplify/cli-export-backend.IAPIRestIncludedStack.restAPI"></a>

```typescript
public restAPI()
```


### IAuthIncludeNestedStack <a name="@aws-amplify/cli-export-backend.IAuthIncludeNestedStack"></a>

- *Implemented By:* [`@aws-amplify/cli-export-backend.IAuthIncludeNestedStack`](#@aws-amplify/cli-export-backend.IAuthIncludeNestedStack)

#### Methods <a name="Methods"></a>

##### `hostedUiProviderCredentials` <a name="@aws-amplify/cli-export-backend.IAuthIncludeNestedStack.hostedUiProviderCredentials"></a>

```typescript
public hostedUiProviderCredentials(credentials: ProviderCredential[])
```

###### `credentials`<sup>Required</sup> <a name="@aws-amplify/cli-export-backend.IAuthIncludeNestedStack.parameter.credentials"></a>

- *Type:* [`@aws-amplify/cli-export-backend.ProviderCredential`](#@aws-amplify/cli-export-backend.ProviderCredential)[]

---

##### `identityPool` <a name="@aws-amplify/cli-export-backend.IAuthIncludeNestedStack.identityPool"></a>

```typescript
public identityPool()
```

##### `userPool` <a name="@aws-amplify/cli-export-backend.IAuthIncludeNestedStack.userPool"></a>

```typescript
public userPool()
```


### ILambdaFunctionIncludedNestedStack <a name="@aws-amplify/cli-export-backend.ILambdaFunctionIncludedNestedStack"></a>

- *Implemented By:* [`@aws-amplify/cli-export-backend.ILambdaFunctionIncludedNestedStack`](#@aws-amplify/cli-export-backend.ILambdaFunctionIncludedNestedStack)

#### Methods <a name="Methods"></a>

##### `lambdaFunction` <a name="@aws-amplify/cli-export-backend.ILambdaFunctionIncludedNestedStack.lambdaFunction"></a>

```typescript
public lambdaFunction()
```


